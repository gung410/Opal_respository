(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{O7HD:function(e,t,n){"use strict";n.r(t),n.d(t,"DepartmentHierarchicalModule",(function(){return $}));var r=n("tyNb"),i=n("Z2gp"),a=n("1kSV"),s=n("PCNd"),o=n("1fqm"),c=n("5Khg"),d=n("hI+g"),l=n("NngO"),p=n("P1U7"),m=n("JHbO"),h=n("LvDl"),u=n("9G0y");const f={elements:[{type:"dropdown",name:"jsonDynamicAttributes.typeOfOrganizationUnits",title:"Type of School / Organisation",isRequired:!0,requiredErrorText:"Please select type of school / organisation.",choicesByUrl:{url:"{learningCatalogApi_catalogentries_explorer_url}/OU-TYPES",titleName:"displayText",valueName:"id"}},{type:"text",name:"name",title:"Organisation Unit Name",isRequired:!0,requiredErrorText:"Please fill in organisation unit name.",maxLength:100},{type:"text",name:"organizationNumber",title:"School Code",maxLength:4},{type:"text",name:"identity.extId",title:"Organisation Code",maxLength:8},{type:"text",name:"jsonDynamicAttributes.clusterSuperintendent",title:"Cluster Superintendent",visibleIf:"{isClusterDepartment} == true"},{type:"text",name:"jsonDynamicAttributes.zoneDirector",title:"Zonal Director",visibleIf:"{isZoneDepartment} == true"},{type:"cxtagbox",name:"levels",storeWholeObject:!0,keyName:"identity.id",title:"Level of education",choicesByUrl:{url:c.a.api.organization+"/departmenttypes?archetypeEnums=6&includeLocalizedData=true",titleName:"localizedData.0.fields.0.localizedText"},visibleIf:"{isSchoolDepartment} == true",choicesEnableIf:"{isSchoolDepartment} == true"},{type:"text",name:"address",title:"Address information",maxLength:500},{type:"checkbox",name:"jsonDynamicAttributes.showInSignUpForm",titleLocation:"hidden",choices:[{value:!0,text:"Show in sign up form"}],visibleIf:"{isBranchDepartment} == true or {isSchoolDepartment} == true"}]};var g=n("O5r8"),D=n("fXoL"),y=n("ofXK"),x=n("sYmb");function b(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div",6),D["\u0275\u0275elementStart"](1,"span"),D["\u0275\u0275text"](2),D["\u0275\u0275pipe"](3,"uppercase"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()),2&e){const e=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](3,1,e.name))}}function v(e,t){if(1&e){const e=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementContainerStart"](0),D["\u0275\u0275elementStart"](1,"cx-checkbox",8),D["\u0275\u0275listener"]("selectedChange",(function(n){return D["\u0275\u0275restoreView"](e),t.$implicit.isSelected=n})),D["\u0275\u0275text"](2),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=t.$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("selected",e.isSelected),D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",e.value," ")}}function S(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div",7),D["\u0275\u0275template"](1,v,3,2,"ng-container",3),D["\u0275\u0275elementEnd"]()),2&e){const e=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngForOf",e.options)}}function _(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div"),D["\u0275\u0275template"](1,b,4,3,"div",4),D["\u0275\u0275template"](2,S,2,1,"div",5),D["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",e.name),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",e.options)}}function I(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div",2),D["\u0275\u0275template"](1,_,3,2,"div",3),D["\u0275\u0275elementEnd"]()),2&e){const e=D["\u0275\u0275nextContext"]();D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngForOf",e.departmentFilterOptions)}}let C=(()=>{class e extends d.d{constructor(e){super(e),this.cancel=new D.EventEmitter,this.done=new D.EventEmitter}ngOnInit(){}onCancel(){this.cancel.emit()}onDone(){this.done.emit(this.departmentFilterOptions)}}return e.\u0275fac=function(t){return new(t||e)(D["\u0275\u0275directiveInject"](D.ChangeDetectorRef))},e.\u0275cmp=D["\u0275\u0275defineComponent"]({type:e,selectors:[["filter-department"]],inputs:{departmentFilterOptions:"departmentFilterOptions"},outputs:{cancel:"cancel",done:"done"},features:[D["\u0275\u0275InheritDefinitionFeature"]],decls:9,vars:10,consts:[[1,"filter-department",3,"doneButtonText","cancelButtonText","done","cancel"],["class","filter-department__content",4,"ngIf"],[1,"filter-department__content"],[4,"ngFor","ngForOf"],["class","filter-department__header",4,"ngIf"],["class","filter-department__items row m-0",4,"ngIf"],[1,"filter-department__header"],[1,"filter-department__items","row","m-0"],[1,"col-12","col-sm-6","col-lg-4","p-0",3,"selected","selectedChange"]],template:function(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"cx-dialog-template",0),D["\u0275\u0275listener"]("done",(function(){return t.onDone()}))("cancel",(function(){return t.onCancel()})),D["\u0275\u0275pipe"](1,"translate"),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementStart"](3,"modal-header"),D["\u0275\u0275elementStart"](4,"h5"),D["\u0275\u0275text"](5),D["\u0275\u0275pipe"](6,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](7,"content"),D["\u0275\u0275template"](8,I,2,1,"div",1),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275property"]("doneButtonText",D["\u0275\u0275pipeBind1"](1,4,"Common.Label.Apply"))("cancelButtonText",D["\u0275\u0275pipeBind1"](2,6,"Common.Button.Cancel")),D["\u0275\u0275advance"](5),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](6,8,"Department_Page.Filter_Section.Title")),D["\u0275\u0275advance"](3),D["\u0275\u0275property"]("ngIf",t.departmentFilterOptions))},directives:[i.i,y.n,y.m,i.d],pipes:[x.c,y.y],styles:[".filter-department__header[_ngcontent-%COMP%]{margin:20px 0 10px 4px;font-weight:500}.filter-department__items[_ngcontent-%COMP%]{-moz-columns:3;column-count:3}"]}),e})();var O=n("APso"),A=n("jFaw"),E=n("uKvJ");function T(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"span",4),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){const e=D["\u0275\u0275nextContext"]();D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",e.resultMatch," ")}}function w(e,t){if(1&e){const e=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"ul",5),D["\u0275\u0275elementStart"](1,"li",6),D["\u0275\u0275elementStart"](2,"div",7),D["\u0275\u0275listener"]("click",(function(){D["\u0275\u0275restoreView"](e);const n=t.$implicit;return D["\u0275\u0275nextContext"]().onClickItemResult(n)})),D["\u0275\u0275text"](3),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](4,"div",8),D["\u0275\u0275text"](5),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=D["\u0275\u0275nextContext"]();D["\u0275\u0275advance"](3),D["\u0275\u0275textInterpolate1"](" ",e.departmentName," "),D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate1"](" ",n.departmentPathMap[e.identity.id]," ")}}function j(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div"),D["\u0275\u0275elementStart"](1,"span",9),D["\u0275\u0275text"](2),D["\u0275\u0275pipe"](3,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()),2&e){const e=D["\u0275\u0275nextContext"]();D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](3,1,e.isSearchAction?"Department_Page.Department_Search.No_Result_Message":"Department_Page.Department_Filter.No_Result_Message")," ")}}let F=(()=>{class e{constructor(e){this.translateService=e,this.isSearchAction=!0,this.departmentPathMap={},this.cancel=new D.EventEmitter,this.clickItemResult=new D.EventEmitter}ngOnInit(){this.resultMatch=this.translateService.instant(this.isSearchAction?"Department_Page.Department_Search.ResultMatch":"Department_Page.Department_Filter.ResultMatch",{resultLength:this.searchDepartmentResult.length})}onCancel(){this.cancel.emit()}onClickItemResult(e){this.clickItemResult.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(D["\u0275\u0275directiveInject"](x.d))},e.\u0275cmp=D["\u0275\u0275defineComponent"]({type:e,selectors:[["search-department-hierarchical"]],decls:9,vars:5,consts:[[3,"showFooterActionButtons","cancel"],["class","content-search__result-match",4,"ngIf"],["class","list-group list-group-flush",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"content-search__result-match"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"content-search__result--name","text-primary",3,"click"],[1,"text-primary"],[1,"content-search__no-result","text-primary"]],template:function(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"cx-dialog-template",0),D["\u0275\u0275listener"]("cancel",(function(){return t.onCancel()})),D["\u0275\u0275elementStart"](1,"modal-header"),D["\u0275\u0275elementStart"](2,"h4"),D["\u0275\u0275text"](3),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](4,"content"),D["\u0275\u0275template"](5,T,2,1,"span",1),D["\u0275\u0275elementStart"](6,"div"),D["\u0275\u0275template"](7,w,6,2,"ul",2),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](8,j,4,3,"div",3),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275property"]("showFooterActionButtons",!1),D["\u0275\u0275advance"](3),D["\u0275\u0275textInterpolate"](t.dialogHeaderText),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngIf",t.searchDepartmentResult.length>0),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngForOf",t.searchDepartmentResult),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",t.isNoSearchResult))},directives:[i.i,y.n,y.m],pipes:[x.c],styles:[""]}),e})();class z{openAddDepartmentSurveyJSForm(e,t){const n=O.a.filter(t=>t.parentIdIdentity===(e.organizationUnitType?e.organizationUnitType[0].identity.extId:e.organizationUnitType));if(n&&0===n.length)return null;const r=t.filter(e=>e.identity.extId===n[0].childrenIdIdentity);if(r&&0===r.length)return null;const a=r&&r.length>0?r.map(e=>e.identity.extId):"",s=a.includes(O.c.School),o=a.includes(O.c.Branch_Zone),c=a.includes(O.c.Cluster),d=a.includes(O.c.Branch_Zone);return{options:{showModalHeader:!0,fixedButtonsFooter:!0,modalHeaderText:"Add new Organisation Unit",cancelName:"Cancel",submitName:"Ok",variables:[new i.B({name:m.a.currentObject_isExternallyMastered,value:!1}),new i.B({name:m.a.formDisplayMode,value:"add"}),new i.B({name:m.a.isSchoolDepartment,value:s}),new i.B({name:m.a.isClusterDepartment,value:c}),new i.B({name:m.a.isZoneDepartment,value:o}),new i.B({name:m.a.isBranchDepartment,value:d})]},dataJson:{parentDepartmentId:e.identity.id,"identity.ownerId":e.identity.ownerId,"identity.customerId":e.identity.customerId,"identity.archetype":e.identity.archetype,organizationalUnitTypes:r,"entityStatus.externallyMastered":!1}}}}var L=n("jGGy"),M=n("BJ9+"),R=n("f2UD"),U=n("qsFD");function B(e,t){if(1&e){const e=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"div",15),D["\u0275\u0275elementStart"](1,"span",16),D["\u0275\u0275text"](2),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](3,"i",17),D["\u0275\u0275listener"]("click",(function(){D["\u0275\u0275restoreView"](e);const t=D["\u0275\u0275nextContext"](),n=t.item,r=t.groupConst;return D["\u0275\u0275nextContext"](3).onCloseTag(n,r)})),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()}if(2&e){const e=D["\u0275\u0275nextContext"]().item;D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate"](e.value)}}function N(e,t){1&e&&D["\u0275\u0275template"](0,B,4,1,"div",14),2&e&&D["\u0275\u0275property"]("ngIf",t.item.isSelected)}function P(e,t){if(1&e){const e=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"div",11),D["\u0275\u0275elementStart"](1,"cx-tag-group",12),D["\u0275\u0275listener"]("clearAll",(function(){return D["\u0275\u0275restoreView"](e),D["\u0275\u0275nextContext"](2).onClearAllFilter()}))("closeTagGroup",(function(t){return D["\u0275\u0275restoreView"](e),D["\u0275\u0275nextContext"](2).onCloseTagGroup(t)})),D["\u0275\u0275template"](2,N,1,1,"ng-template",null,13,D["\u0275\u0275templateRefExtractor"]),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()}if(2&e){const e=D["\u0275\u0275reference"](3),t=D["\u0275\u0275nextContext"](2);D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("backgroundColor","#f1f1f1")("tagGroup",t.departmentTagData)("tagGroupField","groupConstant")("tagProperty","options")("tagTemplate",e)}}function k(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div",9),D["\u0275\u0275template"](1,P,4,5,"div",10),D["\u0275\u0275elementEnd"]()),2&e){const e=D["\u0275\u0275nextContext"]();D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",e.departmentTagData&&e.departmentTagData.length>0)}}function H(e,t){if(1&e){const e=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"span",22),D["\u0275\u0275listener"]("click",(function(){D["\u0275\u0275restoreView"](e);const n=t.item;return D["\u0275\u0275nextContext"](2).onUpdateDepartment(n)})),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()}if(2&e){const e=t.item;D["\u0275\u0275propertyInterpolate"]("title",e.organizationalUnitTypes?e.organizationalUnitTypes[0].localizedData[0].fields[0].localizedText:""),D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"]("",e.departmentName," ")}}function G(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"div",23),D["\u0275\u0275elementStart"](1,"div",24),D["\u0275\u0275text"](2),D["\u0275\u0275pipe"](3,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](4,"div",24),D["\u0275\u0275text"](5),D["\u0275\u0275pipe"](6,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](3,2,"Department_Page.Department_List.Level_Of_Education")," "),D["\u0275\u0275advance"](3),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](6,4,"Department_Page.Department_List.Type_Of_School_Organisation")," "))}function V(e,t){if(1&e&&(D["\u0275\u0275elementContainerStart"](0),D["\u0275\u0275text"](1),D["\u0275\u0275elementContainerEnd"]()),2&e){const e=D["\u0275\u0275nextContext"]().item,t=D["\u0275\u0275nextContext"](2);D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",t.displayText(e)," ")}}function Q(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div",23),D["\u0275\u0275elementStart"](1,"div",25),D["\u0275\u0275text"](2),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](3,"div",25),D["\u0275\u0275template"](4,V,2,1,"ng-container",26),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()),2&e){const e=t.item,n=D["\u0275\u0275nextContext"](2);D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate1"](" ",n.levelOfEducationMap[e.identity.id]," "),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngIf",null==e||null==e.jsonDynamicAttributes?null:e.jsonDynamicAttributes.typeOfOrganizationUnits)}}function J(e,t){if(1&e){const e=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"cx-extensive-tree",18),D["\u0275\u0275listener"]("addItem",(function(t){return D["\u0275\u0275restoreView"](e),D["\u0275\u0275nextContext"]().onOpenAddDepartmentForm(t)}))("editItem",(function(t){return D["\u0275\u0275restoreView"](e),D["\u0275\u0275nextContext"]().onUpdateDepartment(t)}))("loadChildren",(function(t){return D["\u0275\u0275restoreView"](e),D["\u0275\u0275nextContext"]().loadChildren(t)}))("deleteItem",(function(t){return D["\u0275\u0275restoreView"](e),D["\u0275\u0275nextContext"]().onDeleteItem(t)})),D["\u0275\u0275template"](1,H,2,2,"ng-template",null,19,D["\u0275\u0275templateRefExtractor"]),D["\u0275\u0275template"](3,G,7,6,"ng-template",null,20,D["\u0275\u0275templateRefExtractor"]),D["\u0275\u0275template"](5,Q,5,2,"ng-template",null,21,D["\u0275\u0275templateRefExtractor"]),D["\u0275\u0275elementEnd"]()}if(2&e){const e=D["\u0275\u0275reference"](2),t=D["\u0275\u0275reference"](4),n=D["\u0275\u0275reference"](6),r=D["\u0275\u0275nextContext"]();D["\u0275\u0275property"]("buttonCondition",r.buttonCondition)("countChildrenFieldRoute","childrenCount")("displayFieldRoute","departmentName")("extensiveTreeHeader","Organisation Unit")("flatObjectsArray",r.flatDepartmentsArray)("havingExtensiveArea",r.havingExtensiveArea)("headerExtensiveTemplate",t)("idFieldRoute","identity.id")("itemExtensiveTemplate",n)("nameDepartmentTemplate",e)("parentIdFieldRoute","parentDepartmentId")("text",r.text)("isDetectExpandTree",r.isDetectExpandTree)("currentDepartmentId",r.currentDepartmentId)}}function q(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"span",27),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"Department_Page.Department_List.Department_Is_Empty")," "))}let Z=(()=>{class e extends d.d{constructor(e,t,n,r,a,s,o,d,l,p){super(e),this.departmentHierarchicalService=t,this.authService=n,this.cxGlobalLoaderService=r,this.translateAdapterService=a,this.formModal=s,this.toastr=o,this.globalKeySearchStoreService=d,this.ngbModal=l,this.translateService=p,this.flatDepartmentsArray=[],this.departmentQueryObject=new E.c({}),this.text=new i.H,this.havingExtensiveArea=!0,this.isLoadingDepartment=!1,this.levelOfEducationMap={},this.isNoDepartment=!1,this.departmentPathMap={},this.searchDepartmentResult=[],this.departmentRouteMap={},this.typesOfOrganisation=[],this.departmentForm=f,this.departmentSurveyJSHelper=new z,this.handleErrorWhenAddDepartment=e=>{this.cxGlobalLoaderService.hideLoader(),this.toastr.error(e&&e.error&&e.error.errorCode===c.b.VALIDATION_DEPARTMENT_EXTID_EXISTS?"Failed to add Organization Unit, duplicated Organisation Code":"Failed to add Organization Unit")}}ngOnInit(){this.text.header="Organisation",this.initButtonCondition(),this.cxGlobalLoaderService.showLoader(),this.subscription.add(this.authService.userData().subscribe(e=>{e&&(this.currentUser=e,this.currentLanguageCode=localStorage.getItem("language-code"),this.currentDepartmentId=e.departmentId,this.selectedDepartmentId=e.departmentId,this.initFilterObject(),this.getDepartments(u.b.getDefaultRootDepartment(this.currentUser)),this.getEducationLevels(),this.getDepartmentTypeList(),this.subscription.add(this.departmentHierarchicalService.getTypeOfOrganisation().subscribe(e=>{e.forEach(e=>{this.typesOfOrganisation[e.id]=e})})))})),this.subscription.add(this.globalKeySearchStoreService.get().subscribe(e=>{e&&e.isSearch&&e.searchKey&&this.onSearchDepartment(e.searchKey)}))}displayText(e){if(!e||!e.jsonDynamicAttributes||!e.jsonDynamicAttributes.typeOfOrganizationUnits)return"";const t=this.typesOfOrganisation[e.jsonDynamicAttributes.typeOfOrganizationUnits];return t?t.displayText:""}onSearchDepartment(e){this.cxGlobalLoaderService.showLoader(),this.departmentQueryObject.searchText=e,this.departmentQueryObject.maxChildrenLevel=void 0,this.departmentHierarchicalService.getHierarchy(u.b.getDefaultRootDepartment(this.currentUser),this.departmentQueryObject).subscribe(t=>{this.flatDepartmentsArray=h.uniqBy(this.flatDepartmentsArray.concat(t),"identity.id"),this.searchDepartmentResult=u.b.searchDepartments(t,e),this.searchDepartmentResult.map(e=>{this.departmentPathMap[e.identity.id]=this.getPathOfDepartment(t,e);const n={};this.getRouteOfDepartment(t,e,n),this.departmentRouteMap[e.identity.id]=n}),this.openDialog(this.searchDepartmentResult),this.cxGlobalLoaderService.hideLoader()},()=>{this.toastr.error("There is something wrong, Please try again."),this.cxGlobalLoaderService.hideLoader()})}onOpenAddDepartmentForm(e){this.subscription.add(this.departmentHierarchicalService.getDepartmentInfo(e.parentObject).subscribe(e=>{e&&this.initializeNewDepartment(e)}))}initializeNewDepartment(e){if(!this.formModal.hasOpenModals()){const t=this.departmentSurveyJSHelper.openAddDepartmentSurveyJSForm(e,this.departmentTypeList);if(null===t)return void this.toastr.error("Cannot initialize new department belong to current department selected");const n=this.formModal.openSurveyJsForm(this.departmentForm,t.dataJson,[],t.options,{size:"lg",backdrop:"static"}),r=this.formModal.submit.subscribe(e=>{if(e){const t=o.a.mapSurveyJSResultToObject(e),r=new A.a(t);r&&r.jsonDynamicAttributes&&r.jsonDynamicAttributes.showInSignUpForm&&r.jsonDynamicAttributes.showInSignUpForm instanceof Array&&(r.jsonDynamicAttributes.showInSignUpForm=r.jsonDynamicAttributes.showInSignUpForm[0]),r.entityStatus=Object.assign(Object.assign({},r.entityStatus),{lastUpdated:new Date,lastUpdatedBy:this.currentUser.identity.id,statusId:"Active",statusReasonId:"Unknown"}),this.onAddDepartment(r),n.close()}},e=>{this.toastr.error(e.error.Message,"An error occurred when updating department.")});n.result.finally(()=>{r.unsubscribe()})}}onAddDepartment(e){this.cxGlobalLoaderService.showLoader(),this.subscription.add(this.departmentHierarchicalService.addNewOrganizationUnit(e).subscribe(e=>{if(e){e.departmentName=e.name;const t=this.flatDepartmentsArray.filter(t=>t.parentDepartmentId===e.parentDepartmentId);if(t&&t.length>0){const t=h.cloneDeep(this.flatDepartmentsArray),n=t.findIndex(t=>t.identity.id===e.parentDepartmentId);t[n].childrenCount+=1,t.push(e),this.flatDepartmentsArray=t,this.cxGlobalLoaderService.hideLoader()}void 0===e.childrenCount&&(e.childrenCount=0,e.userCount=0),this.updateLevelOfEducationMap(e),this.changeDetectorRef.detectChanges(),this.extensiveTreeComponent.executeAddItem(e,0),this.toastr.success(`Organisation unit ${e.departmentName} has been added`)}},this.handleErrorWhenAddDepartment))}onUpdateDepartment(e){e&&this.subscription.add(this.departmentHierarchicalService.getDepartmentInfo(e).subscribe(e=>{e&&(this.currentSelectedDepartment=e,this.openUpdateDepartmentForm())}))}onDeleteItem(e){const t=this.ngbModal.open(i.h,{size:"lg",centered:!0}),n=t.componentInstance;n.cancelButtonText=this.translateService.instant("Common.Button.Cancel"),n.confirmButtonText=this.translateService.instant("Common.Button.Confirm"),n.header=this.translateService.instant("Common.Label.ConfirmationDialog"),n.content=this.translateService.instant("Department_Page.Department_Delete.Deactivate",{departmentName:e.object.departmentName}),n.confirm.subscribe(()=>{t.close(),this.departmentHierarchicalService.deleteHierarchy(e).subscribe(()=>{const t=h.cloneDeep(this.flatDepartmentsArray),n=t.findIndex(t=>t.identity.id===e.object.parentDepartmentId);t[n].childrenCount-=1,h.remove(t,t=>t.identity.id===e.object.identity.id),this.flatDepartmentsArray=t,this.changeDetectorRef.detectChanges(),this.toastr.success(this.translateService.instant("Department_Page.Department_Delete.Successfully",{departmentName:e.object.departmentName}))},e=>{this.toastr.error(this.translateService.instant("Department_Page.Department_Delete.Error"))})}),n.cancel.subscribe(()=>{t.close()})}openUpdateDepartmentForm(){const e=this.checkDepartmentType(this.currentSelectedDepartment);if(!this.formModal.hasOpenModals()){const t=[new i.B({name:m.a.currentObject_isExternallyMastered,value:this.currentSelectedDepartment.entityStatus.externallyMastered}),new i.B({name:m.a.formDisplayMode,value:"edit"}),new i.B({name:m.a.isClusterDepartment,value:e.isClusterDepartment}),new i.B({name:m.a.isZoneDepartment,value:e.isZoneDepartment}),new i.B({name:m.a.isSchoolDepartment,value:e.isSchoolDepartment}),new i.B({name:m.a.isBranchDepartment,value:e.isBranchDepartment})],n=this.formModal.openSurveyJsForm(this.departmentForm,{organizationalUnitTypes:this.currentSelectedDepartment.organizationalUnitTypes,"jsonDynamicAttributes.typeOfOrganizationUnits":this.currentSelectedDepartment.jsonDynamicAttributes&&this.currentSelectedDepartment.jsonDynamicAttributes.typeOfOrganizationUnits?this.currentSelectedDepartment.jsonDynamicAttributes.typeOfOrganizationUnits:"",name:this.currentSelectedDepartment.name,organizationNumber:this.currentSelectedDepartment.organizationNumber,"identity.extId":this.currentSelectedDepartment.identity.extId,"jsonDynamicAttributes.clusterSuperintendent":this.currentSelectedDepartment.jsonDynamicAttributes&&this.currentSelectedDepartment.jsonDynamicAttributes.clusterSuperintendent?this.currentSelectedDepartment.jsonDynamicAttributes.clusterSuperintendent:"","jsonDynamicAttributes.zoneDirector":this.currentSelectedDepartment.jsonDynamicAttributes&&this.currentSelectedDepartment.jsonDynamicAttributes.zoneDirector?this.currentSelectedDepartment.jsonDynamicAttributes.zoneDirector:"",levels:this.currentSelectedDepartment.levels?this.currentSelectedDepartment.levels:[],"jsonDynamicAttributes.showInSignUpForm":this.currentSelectedDepartment.jsonDynamicAttributes&&this.currentSelectedDepartment.jsonDynamicAttributes.showInSignUpForm,"entityStatus.externallyMastered":this.currentSelectedDepartment.entityStatus.externallyMastered,address:this.currentSelectedDepartment.address},[],{showModalHeader:!0,fixedButtonsFooter:!0,modalHeaderText:"Edit Organisation Unit",cancelName:"Cancel",submitName:"Ok",variables:t},{size:"lg",backdrop:"static"}),r=this.formModal.submit.subscribe(e=>{if(e){const t=o.a.mapSurveyJSResultToObject(e);this.updateDepartment(t)}n.close()},e=>{this.toastr.error(e.error.Message,"An error occurred when updating department.")});n.result.finally(()=>{r.unsubscribe()})}}updateDepartment(e){const t=this.buildDepartmentDtoFromSubmittedForm(e);this.cxGlobalLoaderService.showLoader(),this.subscription.add(this.departmentHierarchicalService.updateOrganizationUnit(t).subscribe(e=>{if(e){const t=this.flatDepartmentsArray.findIndex(t=>t.identity.id===e.identity.id);if(t>l.c.notFound){let n=Object.assign({},this.flatDepartmentsArray[t]);n=this.convertDepartment(e,n),this.updateLevelOfEducationMap(n),this.flatDepartmentsArray[t]=n,this.extensiveTreeComponent.executeEditItem(n),this.toastr.success("Organisation unit has been updated"),this.cxGlobalLoaderService.hideLoader()}}},e=>{this.toastr.error("An error occurred when updating department."),this.cxGlobalLoaderService.hideLoader()}))}loadMoreDepartments(e){const t=this.flatDepartmentsArray.find(e=>e.identity.id===this.selectedDepartmentId),n=e.find(e=>e.identity.id===this.selectedDepartmentId),r=this.flatDepartmentsArray.indexOf(t);r>l.c.notFound&&(this.flatDepartmentsArray[r]=n),e=e.filter(e=>e.identity.id!==this.selectedDepartmentId),this.flatDepartmentsArray=e?this.flatDepartmentsArray.concat(e):this.flatDepartmentsArray,this.isLoadingDepartment=!1}onCloseTagGroup(e){switch(e.groupConstant){case p.a.DEPARTMENT_TYPE:this.departmentTagData=this.departmentTagData.filter(e=>e.groupConstant!==p.a.DEPARTMENT_TYPE),this.departmentFilterOptions.forEach(t=>t.groupConstant!==e.groupConstant?void 0:t.options.forEach(e=>e.isSelected=!1)),this.departmentQueryObject.departmentTypeIds=[],this.selectedDepartmentId=this.currentDepartmentId,this.flatDepartmentsArray=[],this.getDepartments(this.selectedDepartmentId);break;default:return}}onCloseTag(e,t){switch(t){case p.a.DEPARTMENT_TYPE:this.departmentTagData.forEach(n=>{n.groupConstant===t&&n.options.forEach(t=>{if(t.objectId===e.objectId)return t.isSelected=!1})}),this.departmentTagData=this.departmentTagData.filter(e=>!0===e.options.some(e=>e.isSelected)),this.departmentFilterOptions.forEach(n=>{n.groupConstant===t&&n.options.forEach(t=>{if(t.objectId===e.objectId)return t.isSelected=!1})});const n=this.departmentQueryObject.departmentTypeIds.filter(t=>t!==e.objectId);this.selectedDepartmentId=this.currentDepartmentId,this.flatDepartmentsArray=[],this.departmentQueryObject.departmentTypeIds=[],this.getDepartments(this.selectedDepartmentId),this.departmentQueryObject.departmentTypeIds=n;break;default:return}}onClickFilter(){const e=this.ngbModal.open(C,{size:"lg",backdrop:"static",centered:!0}),t=e.componentInstance;t.departmentFilterOptions=this.departmentFilterOptions,this.subscription.add(t.done.subscribe(t=>{this.changeOrganisationWithFilterData(t),e.close()})),this.subscription.add(t.cancel.subscribe(()=>{e.close()}))}changeOrganisationWithFilterData(e){const t=e.find(e=>e.name===this.departmentTypeTitle);this.cxGlobalLoaderService.showLoader(),this.departmentQueryObject.departmentTypeIds=t.options.filter(e=>!0===e.isSelected).map(e=>e.objectId),this.departmentQueryObject.maxChildrenLevel=void 0,this.departmentHierarchicalService.getHierarchy(u.b.getDefaultRootDepartment(this.currentUser),this.departmentQueryObject).subscribe(e=>{this.cxGlobalLoaderService.hideLoader(),this.flatDepartmentsArray=h.uniqBy(this.flatDepartmentsArray.concat(e),"identity.id");const t=e.filter(e=>!!e.levels&&e.levels.findIndex(e=>this.departmentQueryObject.departmentTypeIds.includes(e.identity.id))>-1);t.forEach(t=>{this.departmentPathMap[t.identity.id]=t.pathName?t.pathName:this.getPathOfDepartment(e,t)}),this.openDialog(t,!1),this.departmentFilterOptions.forEach(e=>{e.options.forEach(e=>{e.isSelected=!1})})},()=>{this.toastr.error("There is something wrong, Please try again."),this.cxGlobalLoaderService.hideLoader()})}onClearAllFilter(){this.departmentTagData=[],this.departmentFilterOptions.forEach(e=>{e.options.forEach(e=>{e.isSelected=!1})}),this.initFilterObject(),this.selectedDepartmentId=this.currentDepartmentId,this.flatDepartmentsArray=[],this.getDepartments(u.b.getDefaultRootDepartment(this.currentUser))}loadChildren(e){e&&e.identity&&(this.isLoadingDepartment=!0,this.selectedDepartmentId=e.identity.id,this.getDepartments(this.selectedDepartmentId))}onClickItemResult(e){this.searchDepartmentResult=[],this.departmentQueryObject.departmentTypeIds=[],this.ngbModal.dismissAll(),this.currentDepartmentId=e.identity.id,this.changeDetectorRef.detectChanges(),this.getDepartments(this.currentDepartmentId),this.isDetectExpandTree=!0}openDialog(e,t=!0){if(!this.ngbModal.hasOpenModals()){const n=this.ngbModal.open(F,{centered:!0,size:"lg",backdrop:"static"}),r=n.componentInstance;r.searchDepartmentResult=e,r.isSearchAction=t,r.dialogHeaderText=this.translateAdapterService.getValueImmediately(t?"Department_Page.Department_Search.Dialog_Header":"Department_Page.Department_Filter.Dialog_Header"),r.departmentPathMap=this.departmentPathMap,r.isNoSearchResult=0===e.length,this.subscription.add(r.cancel.subscribe(()=>{n.close()})),this.subscription.add(r.clickItemResult.subscribe(e=>{n.close(),this.onClickItemResult(e)}))}}convertDepartment(e,t){return t.departmentName=e.name,t.identity=e.identity,t.parentDepartmentId=e.parentDepartmentId,t.organizationNumber=e.organizationNumber,t.address=e.address,t.jsonDynamicAttributes=e.jsonDynamicAttributes,t.levels=e.levels,t}buildDepartmentDtoFromSubmittedForm(e){let t=h.cloneDeep(this.currentSelectedDepartment);return t=Object.assign(Object.assign({},t),{organizationNumber:e.organizationNumber,address:e.address,name:e.name,identity:{extId:e.identity.extId,ownerId:this.currentSelectedDepartment.identity.ownerId,customerId:this.currentSelectedDepartment.identity.customerId,archetype:this.currentSelectedDepartment.identity.archetype,id:this.currentSelectedDepartment.identity.id},jsonDynamicAttributes:{cluster:e.jsonDynamicAttributes&&e.jsonDynamicAttributes.cluster?e.jsonDynamicAttributes.cluster:"",clusterSuperintendent:e.jsonDynamicAttributes&&e.jsonDynamicAttributes.clusterSuperintendent?e.jsonDynamicAttributes.clusterSuperintendent:"",zone:e.jsonDynamicAttributes&&e.jsonDynamicAttributes.zone?e.jsonDynamicAttributes.zone:"",zoneDirector:e.jsonDynamicAttributes&&e.jsonDynamicAttributes.zoneDirector?e.jsonDynamicAttributes.zoneDirector:"",typeOfOrganizationUnits:e.jsonDynamicAttributes&&e.jsonDynamicAttributes.typeOfOrganizationUnits?e.jsonDynamicAttributes.typeOfOrganizationUnits:""},levels:e.levels}),e.jsonDynamicAttributes&&e.jsonDynamicAttributes.showInSignUpForm&&e.jsonDynamicAttributes.showInSignUpForm.length>0&&(t.jsonDynamicAttributes.showInSignUpForm=e.jsonDynamicAttributes.showInSignUpForm[0]),t}initFilterOptions(e){this.departmentTypes=e,this.departmentTypeTitle=this.translateAdapterService.getValueImmediately("Department_Page.Filter_Section.Filter_Options.Education_Level"),this.departmentFilterOptions=[new E.a({name:this.departmentTypeTitle,options:this.departmentTypes.map(e=>new E.b({value:this.getLocalizedText(e.localizedData),objectId:e.identity.id})),groupConstant:p.a.DEPARTMENT_TYPE})]}initFilterObject(){this.departmentQueryObject=new E.c({includeParent:!1,includeChildren:!0,maxChildrenLevel:1,countChildren:!0,countUser:!0,includeDepartmentType:!0})}getLocalizedText(e){const t=e.findIndex(e=>e.languageCode===this.currentLanguageCode);if(t>l.c.notFound)return e[t].fields[0].localizedText}initButtonCondition(){this.buttonCondition=new i.E({enableAdd:e=>{if(e&&e.entityStatus&&!e.entityStatus.externallyMastered&&1===e.parentDepartmentId)return!e.entityStatus.externallyMastered},enableEdit:e=>e&&e.identity&&e.identity.archetype&&"Unknown"!==e.identity.archetype,enableMove:()=>!1,enableRemove:e=>{if(e.entityStatus&&!e.entityStatus.externallyMastered&&0===e.userCount&&0===e.childrenCount)return!e.entityStatus.externallyMastered}})}getDepartments(e){this.cxGlobalLoaderService.showLoader();const t=h.clone(this.departmentQueryObject);this.subscription.add(this.departmentHierarchicalService.getHierarchy(e,t).subscribe(e=>{e&&e.map(e=>new A.a(e)),this.isLoadingDepartment?this.loadMoreDepartments(e):this.flatDepartmentsArray=h.uniqBy(this.flatDepartmentsArray.concat(e),"identity.id"),this.flatDepartmentsArray.forEach(e=>{this.updateLevelOfEducationMap(e)}),this.cxGlobalLoaderService.hideLoader(),this.isNoDepartment=!e||0===e.length,this.changeDetectorRef.detectChanges()},e=>{this.cxGlobalLoaderService.hideLoader()},()=>{this.isDetectExpandTree=!1}))}updateLevelOfEducationMap(e){this.levelOfEducationMap[e.identity.id]=e.levels&&e.levels.length>0?this.getPropLocalizedData(e.levels,this.currentLanguageCode):""}getPropLocalizedData(e,t,n="Name"){return e.map(e=>o.a.getPropLocalizedData(e.localizedData,n,t))}checkEmptyFilter(){return this.departmentFilterOptions[0].options.filter(e=>e.isSelected).length>0}checkDepartmentType(e){const t=e.organizationalUnitTypes&&e.organizationalUnitTypes.length>0?e.organizationalUnitTypes.map(e=>e.identity.extId):"";return{isSchoolDepartment:t.includes(O.c.School),isZoneDepartment:t.includes(O.c.Branch_Zone),isClusterDepartment:t.includes(O.c.Cluster),isBranchDepartment:t.includes(O.c.Branch_Zone)}}getEducationLevels(){this.subscription.add(this.departmentHierarchicalService.getDepartmentTypes("Level").subscribe(e=>{e&&this.initFilterOptions(e)}))}getDepartmentTypeList(){this.subscription.add(this.departmentHierarchicalService.getDepartmentTypes("OrganizationalUnitType").subscribe(e=>{e&&(this.departmentTypeList=e)}))}getPathOfDepartment(e,t){const n=e.find(e=>e.identity.id===t.parentDepartmentId);return n?this.getPathOfDepartment(e,n).concat("/"+t.departmentName):t.departmentName}getRouteOfDepartment(e,t,n){const r=e.find(e=>e.identity.id===t.parentDepartmentId);r?(n[r.identity.id]=r.identity.id,this.getRouteOfDepartment(e,r,n)):n[t.identity.id]=t.identity.id}}return e.\u0275fac=function(t){return new(t||e)(D["\u0275\u0275directiveInject"](D.ChangeDetectorRef),D["\u0275\u0275directiveInject"](g.a),D["\u0275\u0275directiveInject"](L.a),D["\u0275\u0275directiveInject"](i.n),D["\u0275\u0275directiveInject"](M.a),D["\u0275\u0275directiveInject"](i.m),D["\u0275\u0275directiveInject"](R.a),D["\u0275\u0275directiveInject"](U.a),D["\u0275\u0275directiveInject"](a.j),D["\u0275\u0275directiveInject"](x.d))},e.\u0275cmp=D["\u0275\u0275defineComponent"]({type:e,selectors:[["department-hierarchical"]],viewQuery:function(e,t){var n;1&e&&D["\u0275\u0275viewQuery"](i.k,!0),2&e&&D["\u0275\u0275queryRefresh"](n=D["\u0275\u0275loadQuery"]())&&(t.extensiveTreeComponent=n.first)},features:[D["\u0275\u0275ProvidersFeature"]([g.a]),D["\u0275\u0275InheritDefinitionFeature"]],decls:11,vars:6,consts:[[1,"department"],[1,"filter-section__filter-button","text-right"],[1,"cx-btn","cx-btn-icon-right",3,"click"],[1,"icon-controls"],[1,"department__tree"],["class","department__filter-section",4,"ngIf"],[3,"buttonCondition","countChildrenFieldRoute","displayFieldRoute","extensiveTreeHeader","flatObjectsArray","havingExtensiveArea","headerExtensiveTemplate","idFieldRoute","itemExtensiveTemplate","nameDepartmentTemplate","parentIdFieldRoute","text","isDetectExpandTree","currentDepartmentId","addItem","editItem","loadChildren","deleteItem",4,"ngIf"],[1,"department__empty"],["class","department__error-message",4,"ngIf"],[1,"department__filter-section"],["class","department__filter-tag",4,"ngIf"],[1,"department__filter-tag"],[3,"backgroundColor","tagGroup","tagGroupField","tagProperty","tagTemplate","clearAll","closeTagGroup"],["tagTemplate",""],["class","filter-tag__filtered-item",4,"ngIf"],[1,"filter-tag__filtered-item"],[1,"filtered-item__item-text"],["aria-hidden","true",1,"filtered-item__item-icon","material-icons","close-icon-global","d-print-none",3,"click"],[3,"buttonCondition","countChildrenFieldRoute","displayFieldRoute","extensiveTreeHeader","flatObjectsArray","havingExtensiveArea","headerExtensiveTemplate","idFieldRoute","itemExtensiveTemplate","nameDepartmentTemplate","parentIdFieldRoute","text","isDetectExpandTree","currentDepartmentId","addItem","editItem","loadChildren","deleteItem"],["nameTemplate",""],["departmentHeaderTemplate",""],["departmentRowTemplate",""],[1,"department__department-name",3,"title","click"],[1,"department__info-item"],[1,"department__header-item"],[1,"department__extensive-item"],[4,"ngIf"],[1,"department__error-message"]],template:function(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"div",0),D["\u0275\u0275elementStart"](1,"div",1),D["\u0275\u0275elementStart"](2,"button",2),D["\u0275\u0275listener"]("click",(function(){return t.onClickFilter()})),D["\u0275\u0275text"](3),D["\u0275\u0275pipe"](4,"translate"),D["\u0275\u0275element"](5,"i",3),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](6,"div",4),D["\u0275\u0275template"](7,k,2,1,"div",5),D["\u0275\u0275template"](8,J,7,14,"cx-extensive-tree",6),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](9,"div",7),D["\u0275\u0275template"](10,q,3,3,"span",8),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](3),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](4,4,"Common.Label.Filter")," "),D["\u0275\u0275advance"](4),D["\u0275\u0275property"]("ngIf",t.flatDepartmentsArray),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",t.flatDepartmentsArray&&t.flatDepartmentsArray.length),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngIf",t.isNoDepartment))},directives:[y.n,i.D,i.k],pipes:[x.c],styles:["department-hierarchical .department__title{font-size:1.5em}department-hierarchical .department__tree{padding-left:30px;padding-right:30px;padding-bottom:30px}department-hierarchical .department__header-item{border:none!important;white-space:nowrap;font-weight:700;width:100%}department-hierarchical .department__info-item{display:flex}department-hierarchical .department__department-name{cursor:pointer}department-hierarchical .department__check-icon{padding:5px 0;font-size:24px!important}department-hierarchical .department__extensive-item{width:100%}department-hierarchical .department__error-message{font-size:1.5em;color:red}department-hierarchical .department__loading-message{font-size:1.5em}department-hierarchical .department__filter-dropdown{display:flex;justify-content:flex-end}department-hierarchical .department__filter-tag{margin-left:20px}department-hierarchical .department .material-icons{color:#5b6a83!important;font-size:0}department-hierarchical .department .cx-extensive-tree__btn i.material-icons:before{font-size:18px!important;border:2px solid #5b6a83}department-hierarchical .department__empty{text-align:center}department-hierarchical .filter-tag__filtered-item{height:35px;display:inline-block;background:#cfdbe5;margin:5px;border-radius:5px}department-hierarchical .filtered-item__item-text{height:100%;float:left;padding:7px}department-hierarchical .filtered-item__item-icon{cursor:pointer;width:30px;height:30px;margin-top:4px;transform:translateY(3px)}department-hierarchical .filtered-item__item-icon:before{font-size:20px!important}department-hierarchical .filtered-item__item-icon:hover{color:#fff!important}department-hierarchical .filter-section__filter-dropdown{box-shadow:0 4px 10px #9ba7bf;border:none;margin-top:10px}department-hierarchical .filter-section__filter-dropdown .filter-dropdown__filter{width:400px;padding:10px 20px 20px!important;border:none!important}department-hierarchical .filter-section__filter-dropdown .filter-dropdown__filter-header{text-align:center;font-size:12px;font-weight:700}department-hierarchical .filter-section__filter-dropdown .filter-dropdown__filter-items{max-height:40vh;font-size:12px;overflow:auto}department-hierarchical .filter-section__filter-dropdown .filter-dropdown__action-buttons{width:100%;margin-bottom:10px;padding-top:20px;padding-right:20px;text-align:right}department-hierarchical ::ng-deep .cx-tree__act-btn--command{padding:5px 15px 5px 10px}department-hierarchical ::ng-deep .cx-tree__act-btn--command:hover{background-color:#dcdcdc;border-radius:5px}department-hierarchical ::ng-deep .cx-tree .cx-tree-node__current-data--selected,department-hierarchical ::ng-deep .cx-tree .cx-tree-node__current-data:hover{background-color:#dbe2ea}department-hierarchical ::ng-deep .cx-tree .material-icons{color:#5b6a83}department-hierarchical ::ng-deep .cx-tree .material-icons:before{font-size:30px}department-hierarchical ::ng-deep .cx-tree .collapse-icon:before,department-hierarchical ::ng-deep .cx-tree .expand-icon:before{font-size:24px;border-color:#5b6a83}.cx-dialog-template .content-search__result--name{font-weight:700;cursor:pointer}.cx-dialog-template .content-search__result-match{padding-left:20px}.cx-dialog-template .content-search__no-result{padding-left:13px;font-size:17px}.sv_qcbx .checkbox label{float:left}"],encapsulation:2,changeDetection:0}),e})(),$=(()=>{class e{}return e.\u0275mod=D["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=D["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[s.a,i.f,a.h,r.f.forChild([{path:"",component:Z},{path:"",component:F}])]]}),e})()}}]);