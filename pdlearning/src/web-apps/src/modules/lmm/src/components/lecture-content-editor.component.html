<div class="lecture-content-editor">
  <ng-container *ngIf="readonly && lectureVm.isInline()">
    <div class="form-controls-group">
      <label>{{"Lecture Name" | translator}}</label>
      <span>{{lectureVm.title}}</span>
    </div>
    <div class="form-controls-group">
      <label>{{"Content" | translator}}</label>
      <span [innerHTML]="lectureVm.value | safeHtml:'html'"></span>
    </div>
  </ng-container>

  <ng-container [formGroup]="form"
                *ngIf="!readonly && lectureVm.isInline()">
    <div class="form-controls-group">
      <label>{{"Content Title" | translator}}</label>
      <input class="form-control"
             type="text"
             kendoErrorTooltip
             formControlName="title"
             [(ngModel)]="lectureVm.title"
             position="top">
    </div>
    <div class="form-controls-group lecture-content-editor__value-group"
         *ngIf="!hideEditContent">
      <label>{{"Content" | translator}}</label>
      <kendo-editor class="lecture-content-editor__value-editor form-control"
                    (valueChange)="onValueChanged($event)"
                    formControlName="value"
                    [ngModel]="lectureVm.value"
                    [updateInterval]="500">
        <kendo-toolbar [overflow]="true">
          <kendo-toolbar-dropdownlist kendoEditorFormat=""></kendo-toolbar-dropdownlist>
          <kendo-toolbar-buttongroup>
            <kendo-toolbar-button kendoEditorBoldButton=""></kendo-toolbar-button>
            <kendo-toolbar-button kendoEditorItalicButton=""></kendo-toolbar-button>
            <kendo-toolbar-button kendoEditorUnderlineButton=""></kendo-toolbar-button>
          </kendo-toolbar-buttongroup>
          <kendo-toolbar-buttongroup>
            <kendo-toolbar-button kendoEditorAlignLeftButton=""></kendo-toolbar-button>
            <kendo-toolbar-button kendoEditorAlignCenterButton=""></kendo-toolbar-button>
            <kendo-toolbar-button kendoEditorAlignRightButton=""></kendo-toolbar-button>
            <kendo-toolbar-button kendoEditorAlignJustifyButton=""></kendo-toolbar-button>
          </kendo-toolbar-buttongroup>
          <kendo-toolbar-buttongroup>
            <kendo-toolbar-button kendoEditorInsertUnorderedListButton=""></kendo-toolbar-button>
            <kendo-toolbar-button kendoEditorInsertOrderedListButton=""></kendo-toolbar-button>
            <kendo-toolbar-button kendoEditorIndentButton=""></kendo-toolbar-button>
            <kendo-toolbar-button kendoEditorOutdentButton=""></kendo-toolbar-button>
          </kendo-toolbar-buttongroup>
          <kendo-toolbar-buttongroup>
            <kendo-toolbar-button kendoEditorCustomInsertMathLiveButtonDirective=""></kendo-toolbar-button>
            <kendo-toolbar-button kendoEditorCustomInsertFileButton=""></kendo-toolbar-button>
            <kendo-toolbar-button kendoEditorCreateLinkButton=""></kendo-toolbar-button>
            <kendo-toolbar-button kendoEditorUnlinkButton=""></kendo-toolbar-button>
            <kendo-toolbar-button kendoEditorBrokenLinkScannerButton
                                  [serviceType]="serviceType"></kendo-toolbar-button>
          </kendo-toolbar-buttongroup>
          <kendo-editor-insert-table-button></kendo-editor-insert-table-button>
          <kendo-toolbar-dropdownlist kendoEditorFontSize=""></kendo-toolbar-dropdownlist>
          <kendo-toolbar-dropdownlist kendoEditorFontFamily=""></kendo-toolbar-dropdownlist>
          <kendo-toolbar-colorpicker kendoEditorForeColor=""></kendo-toolbar-colorpicker>
          <kendo-toolbar-colorpicker kendoEditorBackColor=""></kendo-toolbar-colorpicker>
          <kendo-toolbar-buttongroup>
            <kendo-toolbar-button #subscriptButton
                                  kendoEditorSubscriptButton
                                  (click)="removeSuperscript()"></kendo-toolbar-button>
          </kendo-toolbar-buttongroup>
          <kendo-toolbar-buttongroup>
            <kendo-toolbar-button #superscriptButton
                                  kendoEditorSuperscriptButton
                                  (click)="removeSubscript()"></kendo-toolbar-button>
          </kendo-toolbar-buttongroup>
          <kendo-toolbar-buttongroup>
            <kendo-toolbar-button kendoEditorAddColumnBeforeButton=""></kendo-toolbar-button>
            <kendo-toolbar-button kendoEditorAddColumnAfterButton=""></kendo-toolbar-button>
            <kendo-toolbar-button kendoEditorAddRowBeforeButton=""></kendo-toolbar-button>
            <kendo-toolbar-button kendoEditorAddRowAfterButton=""></kendo-toolbar-button>
          </kendo-toolbar-buttongroup>
          <kendo-toolbar-buttongroup>
            <kendo-toolbar-button kendoEditorDeleteColumnButton=""></kendo-toolbar-button>
            <kendo-toolbar-button kendoEditorDeleteRowButton=""></kendo-toolbar-button>
            <kendo-toolbar-button kendoEditorDeleteTableButton=""></kendo-toolbar-button>
          </kendo-toolbar-buttongroup>
          <kendo-toolbar-button kendoEditorViewSourceButton=""></kendo-toolbar-button>
        </kendo-toolbar>
      </kendo-editor>
    </div>
  </ng-container>


  <ng-container *ngIf="lectureVm.isQuiz()"
                [formGroup]="form">
    <div class="form-controls-group -horizontal">
      <label>{{"Turn on/off Passing Rate" | translator}}</label>
      <kendo-switch [(ngModel)]="lectureVm.quizConfig_isByPass"
                    [readonly]="readonly"
                    formControlName="quizConfig_isByPass"></kendo-switch>

      <label>{{"Display Poll Result to Learners" | translator}}</label>
      <kendo-switch [(ngModel)]="lectureVm.quizConfig_isDisplayPollResult"
                    [readonly]="readonly"
                    formControlName="quizConfig_isDisplayPollResult"></kendo-switch>
    </div>

    <div class="form-controls-group">
      <label>{{"Quiz Review" | translator}}</label>
    </div>
    <preview-quiz-player [formId]="lectureVm.resourceId"
                         [resourceId]="lectureVm.courseId"></preview-quiz-player>
  </ng-container>

  <ng-container *ngIf="lectureVm.isDigitalContent()"
                [formGroup]="form">
    <div class="form-controls-group lecture-content-editor__digital-content-downloadable-checkbox"
         [hidden]="!canAllowDownload()"
         [class.readonly]="readonly">
      <div class="k-checkbox-container">
        <input class="k-checkbox"
               type="checkbox"
               [(ngModel)]="lectureVm.digitalContentConfig_canDownload"
               formControlName="digitalContentConfig_canDownload">
        <label class="k-checkbox-label">{{ 'Downloadable' | translator }}</label>
      </div>
    </div>

    <preview-digital-content class="content-detail-page__preview-digital-content"
                             *ngIf="digitalContent"
                             [lectureId]="lecture.id"
                             [showSpinner]="false"
                             [digitalContent]="digitalContent"
                             [videoAnnotationCommentInfo]="videoAnnotationCommentInfo"></preview-digital-content>
  </ng-container>

</div>
<div class="lecture-content-editor__bottom"
     *ngIf="!readonly">
  <button (click)="onCancelBtnClick()"
          kendoButton>{{ 'Cancel' | globalTranslator }}</button>
  <button (click)="onSaveBtnClick()"
          [primary]="true"
          [disabled]="!hasDataChanged()"
          kendoButton>{{ 'Save' | globalTranslator }}</button>
</div>
