<div class="send-course-publicity-page">
  <div class="send-course-publicity-page__left-container">
    <div class="scrollable-menu"
         stickyElement
         [stickyDependElement]="stickyDependElement"
         [stickySpacing]="stickySpacing">
      <div class="form-container">
        <div class="form-controls-group">
          <label for="ch2">{{ 'Who will get the message' | translator }}</label>
          <editable [modeView]="false">
            <ng-template editableViewMode="">
            </ng-template>
            <ng-template editableEditMode="">
              <div class="form-controls-group -horizontal">
                <div class="k-checkbox-container">
                  <input class="k-radio"
                         name="applicable"
                         type="radio"
                         (click)="sendCoursePublicityVm.setOption(SendCoursePublicityOption.AllUsers)"
                         [checked]="sendCoursePublicityVm.option === SendCoursePublicityOption.AllUsers">
                  <label>{{ 'All users' | translator }}</label>
                </div>
                <div class="k-checkbox-container">
                  <input class="k-radio"
                         name="applicable"
                         type="radio"
                         [checked]="sendCoursePublicityVm.option === SendCoursePublicityOption.SpecificTargetAudience"
                         (click)="sendCoursePublicityVm.setOption(SendCoursePublicityOption.SpecificTargetAudience)">
                  <label>{{ 'Specific target audience' | translator }}</label>
                </div>
              </div>
            </ng-template>
          </editable>
        </div>
        <div class="form-controls-group"
             [hidden]="sendCoursePublicityVm.option == SendCoursePublicityOption.AllUsers">
          <label for="ch2">{{ 'Specific Users' | translator }}</label>
          <editable [modeView]="false">
            <ng-template editableViewMode="">
            </ng-template>
            <ng-template editableEditMode="">
              <opal-select class="form-control"
                           [items]="sendCoursePublicityVm.userItems"
                           [fetchDataFn]="fetchUserItemsFn"
                           [labelField]="'fullName'"
                           [valueField]="'id'"
                           [(ngModel)]="sendCoursePublicityVm.users"
                           kendoErrorTooltip
                           position="top"
                           [clearable]="true"
                           [multiple]="true"
                           [dropdownBoundary]="'.send-course-publicity-page__left-container'"
                           [minDropdownHeight]="250"></opal-select>
            </ng-template>
          </editable>
        </div>
        <div class="form-controls-group"
             [hidden]="sendCoursePublicityVm.option == SendCoursePublicityOption.AllUsers">
          <label for="ch2">{{ 'Teaching Subjects' | translator }}</label>
          <editable [modeView]="false">
            <ng-template editableViewMode="">
            </ng-template>
            <ng-template editableEditMode="">
              <opal-select class="form-control"
                           [items]="sendCoursePublicityVm.teachingSubjectSelectItems"
                           [valueField]="'tagId'"
                           [labelField]="'displayText'"
                           [(ngModel)]="sendCoursePublicityVm.teachingSubjectIds"
                           kendoErrorTooltip
                           position="top"
                           [clearable]="true"
                           [multiple]="true"
                           [dropdownBoundary]="'.send-course-publicity-page__left-container'"
                           [minDropdownHeight]="250"></opal-select>
            </ng-template>
          </editable>
        </div>
        <div class="form-controls-group"
             [hidden]="sendCoursePublicityVm.option == SendCoursePublicityOption.AllUsers">
          <label for="ch2">{{ 'Teaching Levels' | translator }}</label>
          <editable [modeView]="false">
            <ng-template editableViewMode="">
            </ng-template>
            <ng-template editableEditMode="">
              <opal-select class="form-control"
                           [items]="sendCoursePublicityVm.teachingLevelsSelectItems"
                           [valueField]="'tagId'"
                           [labelField]="'displayText'"
                           [(ngModel)]="sendCoursePublicityVm.teachingLevels"
                           kendoErrorTooltip
                           position="top"
                           [clearable]="true"
                           [multiple]="true"
                           [dropdownBoundary]="'.send-course-publicity-page__left-container'"
                           [minDropdownHeight]="250"></opal-select>
            </ng-template>
          </editable>
        </div>
      </div>
    </div>
  </div>
  <div class="send-course-publicity-page__right-container">
    <div class="scrollable-menu-content">
      <div class="scrollable-menu-content__tab-content">
        <div class="form-container">
          <div class="form-controls-group">
            <mail-editor [tags]="mailTags"
                         [(mailContent)]="sendCoursePublicityVm.mailContent"></mail-editor>
            <div class="send-course-publicity-page__group-buttons">
              <button kendoButton
                      (click)="onReset()">{{ 'Reset' | globalTranslator }}</button>
              <button type="submit"
                      kendoButton
                      [primary]="true"
                      (click)="onSend()">{{ 'Send' | globalTranslator }}</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
